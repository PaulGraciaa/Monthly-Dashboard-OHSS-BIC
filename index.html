<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OHSS Performance Dashboard</title>

  <!-- Font Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href=" https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css " />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js "></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com "></script>

  <script>
    // Register Chart.js DataLabels plugin
    Chart.register(ChartDataLabels);
    
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'primary-blue': '#0A4D9E',
            'header-footer-bg': '#e53935',
            'background-color': '#f4f7fa',
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          }
        },
      },
    };
  </script>
</head>
<body class="bg-background-color text-gray-800 font-sans min-h-screen flex flex-col">

<!-- Loader Spinner Merah -->
<div id="loader-bg" style="position:fixed;z-index:9999;top:0;left:0;right:0;bottom:0;background:#f4f7fa;display:flex;align-items:center;justify-content:center;transition:opacity 0.5s;">
  <div class="loader" style="border:6px solid #e0e7ef;border-top:6px solid #e53935;border-radius:50%;width:60px;height:60px;animation:spin 1s linear infinite;"></div>
</div>

  <!-- Sidebar -->
  <aside id="sidebar" class="fixed top-0 left-0 h-full w-60 bg-header-footer-bg text-white shadow-2xl z-40 transform -translate-x-full transition-transform duration-300 ease-in-out flex flex-col pt-0 rounded-r-3xl border-r-4 border-header-footer-bg">
    <button id="sidebarBackBtn" class="absolute top-4 left-4 bg-white text-header-footer-bg rounded-full shadow-lg w-10 h-10 flex items-center justify-center hover:bg-header-footer-bg hover:text-white transition focus:outline-none border-2 border-header-footer-bg" title="Tutup Sidebar">
      <i class="fas fa-arrow-left text-xl"></i>
    </button>
    <div class="flex flex-col gap-2 px-6 pt-20">
      <div class="mb-4 flex items-center gap-2">
        <span class="font-bold text-lg tracking-wide text-white drop-shadow">OHSS</span>
      </div>  
      <a href="index.html" class="flex items-center gap-3 px-4 py-2 rounded-xl font-semibold bg-white/10 hover:bg-white/20 text-white transition shadow-sm backdrop-blur-md text-base">
        <i class="fas fa-home text-lg"></i> Dashboard
    </a>
      <a href="OHS.html" class="flex items-center gap-3 px-4 py-2 rounded-xl font-semibold bg-white/10 hover:bg-white/20 text-white transition shadow-sm backdrop-blur-md">
        <i class="fas fa-shield-alt"></i> OHSS
      </a>
      <a href="security.html" class="flex items-center gap-3 px-4 py-2 rounded-xl font-semibold bg-white/10 hover:bg-white/20 text-white transition shadow-sm backdrop-blur-md">
        <i class="fas fa-user-shield"></i> Security
      </a>
      <a href="firesafety.html" class="flex items-center gap-3 px-4 py-2 rounded-xl font-semibold bg-white/10 hover:bg-white/20 text-white transition shadow-sm backdrop-blur-md">
        <i class="fas fa-fire-extinguisher"></i> Fire Safety
      </a>
      <a href="surveillance.html" class="flex items-center gap-3 px-4 py-2 rounded-xl font-semibold bg-white/10 hover:bg-white/20 text-white transition shadow-sm backdrop-blur-md">
        <i class="fas fa-video"></i> Surveillance
      </a>
      <div class="mt-8 text-xs text-white/80 px-2">
        <span class="block">&copy; 2025 Batamindo Investment Cakrawala. All Rights Reserved.</span>
      </div>
    </div>
  </aside>

  <!-- Header -->
  <header class="bg-header-footer-bg text-white px-2 py-1 flex items-center justify-between mb-3 min-h-0 h-12 relative">
    <!-- Menu Button -->
    <div class="relative">
      <button id="menuBtn" class="text-white hover:text-gray-200 focus:outline-none" aria-label="Menu">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-5 h-5">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>

    <!-- Logo -->
    <div class="flex items-center flex-grow justify-center">
      <img src="img/batamindo.png" alt="Batamindo Investment Cakrawala Logo" class="h-6 object-contain">
    </div>

    <!-- Title & Date -->
    <div class="text-right hidden sm:block">
      <div class="text-sm font-semibold leading-tight"><strong>Report OHSS Monthly</strong></div>
      <div class="text-[10px] opacity-80 mt-0.5 leading-tight">
        BIC / OHSS-25-034-006-142 | Cut of date: 01 June â€“ 30 June 2025
      </div>
    </div>

    <!-- Fullscreen Buttons -->
    <button id="fullscreenBtn" class="fixed bottom-4 right-4 z-50 bg-header-footer-bg text-white rounded-full shadow-lg p-4 hover:bg-primary-blue transition-colors duration-200 flex items-center justify-center w-14 h-14" title="Full Screen">
      <i class="fas fa-expand text-2xl"></i>
    </button>
    <button id="exitFullscreenBtn" class="fixed bottom-4 right-4 z-50 bg-header-footer-bg text-white rounded-full shadow-lg p-4 hover:bg-primary-blue transition-colors duration-200 flex items-center justify-center w-14 h-14 hidden" title="Exit Full Screen">
      <i class="fas fa-compress text-2xl"></i>
    </button>
  </header>

  <!-- Main Content -->
  <main class="main-content flex-1 fadein">
    <div class="container mx-auto px-4 max-w-7xl">
    <!-- KPI Cards (horizontal, lebih kecil) -->
    <div class="flex flex-row gap-3 mb-3">
      <div class="bg-white p-2 rounded-xl text-center flex-1 flex flex-col justify-center items-center min-w-[70px] h-20">
        <div class="text-lg font-extrabold text-primary-blue tracking-wide flex items-center gap-2">
          <i class="fas fa-user-shield text-primary-blue text-sm"></i> 6,062,744
        </div>
        <div class="mt-1 text-black-600 text-xs font-semibold"><strong>Total Safe Manhours (To date)</strong></div>
      </div>
      <div class="bg-white p-2 rounded-xl text-center flex-1 flex flex-col justify-center items-center min-w-[70px] h-20">
        <div class="text-lg font-extrabold text-primary-blue tracking-wide flex items-center gap-2">
          <i class="fas fa-calendar-check text-primary-blue text-sm"></i> 1,495,968
        </div>
        <div class="mt-1 text-black-600 text-xs font-semibold"><strong>Safe Manhours (2025)</strong></div>
      </div>
      <div class="bg-white p-2 rounded-xl text-center flex-1 flex flex-col justify-center items-center min-w-[70px] h-20">
        <div class="text-lg font-extrabold text-primary-blue tracking-wide flex items-center gap-2">
          <i class="fas fa-users text-primary-blue text-sm"></i> 1,354
        </div>
        <div class="mt-1 text-black-600 text-xs font-semibold"><strong>Total Manpower (To Date)</strong></div>
      </div>
    </div>
      <!-- KPI, Chart, Golden Rules dalam satu grid utama -->
      <section class="grid grid-cols-1 lg:grid-cols-12 gap-3 my-1 items-stretch">
        <!-- Kolom 1: KPI (diperpanjang) -->
        <div class="lg:col-span-6 bg-white p-2 rounded-xl shadow-md border border-blue-100 flex flex-col kpi-card min-h-[320px]">
          <div class="flex items-center gap-2 mb-2 border-b border-blue-100 pb-1">
            <i class="fas fa-chart-bar text-sm text-primary-blue"></i>
            <h3 class="font-bold text-xs mb-0.5 text-primary-blue">KPI OHSS</h3>
          </div>
          <!-- Tab Navigation -->
          <div class="flex mb-2 border-b border-gray-200 relative">
            <div class="absolute bottom-0 left-0 h-0.5 bg-primary-blue transition-all duration-500 ease-in-out" id="tabIndicator" style="width: 50%;"></div>
            <button id="leadingTab" class="flex-1 py-1 px-3 text-xs font-semibold text-primary-blue border-b-2 border-transparent bg-blue-50 rounded-t-lg transition-all duration-500 ease-in-out relative z-10">
              <strong>Leading Indicators</strong>
            </button>
            <button id="laggingTab" class="flex-1 py-1 px-3 text-xs font-semibold text-gray-500 border-b-2 border-transparent hover:text-primary-blue transition-all duration-500 ease-in-out relative z-10">
              <strong>Lagging Indicators</strong>
            </button>
          </div>
          <div class="flex-1 flex flex-col justify-end relative chart-container">
            <canvas id="kpiLeadingChart" width="400" height="280" style="width:100%;height:280px;position:absolute;top:0;left:0;opacity:1;transition:opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);"></canvas>
            <canvas id="kpiLaggingChart" width="400" height="280" style="width:100%;height:280px;position:absolute;top:0;left:0;opacity:0;transition:opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);"></canvas>
          </div>
        </div>
        <!-- Kolom 2: Life Saving Rules (diperkecil) -->
        <div class="lg:col-span-3 bg-white p-2 rounded-xl shadow-md border border-blue-100 flex flex-col kpi-card min-h-[320px]">
          <div class="flex items-center gap-2 mb-2 border-b border-blue-100 pb-1">
            <i class="fas fa-shield-alt text-sm text-primary-blue"></i>
            <h3 class="font-bold text-xs mb-0.5 text-primary-blue"><strong>Life Saving Rules & BASCOM</strong></h3>
          </div>
          <div class="flex-1 flex flex-col justify-center items-center">
            <div id="lifeCarousel" class="relative w-full flex justify-center items-center h-72">
              <div id="lifeContent1" class="absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-1000 opacity-100">
                <img id="lifeImage1" src="img/LIFE.png" class="h-56 object-contain mx-auto mb-2 life-image-hover" />
                <div class="text-center px-2 mt-auto">
                  <h4 class="text-xs font-bold text-primary-blue mb-1">Life Saving Rules</h4>
                  <p class="text-[10px] text-gray-600 leading-tight">Aturan keselamatan wajib yang harus dipatuhi untuk mencegah kecelakaan fatal di tempat kerja</p>
                </div>
              </div>
              <div id="lifeContent2" class="absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-1000 opacity-0">
                <img id="lifeImage2" src="img/BASCOM.jpg" class="h-56 object-contain mx-auto mb-2 life-image-hover" />
                <div class="text-center px-2 mt-auto">
                  <h4 class="text-xs font-bold text-primary-blue mb-1">BASCOM Guidelines</h4>
                  <p class="text-[10px] text-gray-600 leading-tight">Panduan keselamatan BASCOM untuk memastikan standar keselamatan tertinggi di lingkungan kerja</p>
                </div>
              </div>
              <div id="lifeContent3" class="absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-1000 opacity-0">
                <a href="https://get-qr.com/dpD5wA" target="_blank" class="cursor-pointer hover:scale-105 transition-transform duration-300">
                  <img id="lifeImage3" src="img/QR-BASCOM.jpg" class="h-56 object-contain mx-auto mb-2 life-image-hover" alt="QR Code BASCOM - Click to open" />
                </a>
                <div class="text-center px-2 mt-auto">
                  <h4 class="text-xs font-bold text-primary-blue mb-1">QR Code BASCOM</h4>
                  <p class="text-[10px] text-gray-600 leading-tight">Scan QR atau klik gambar untuk mengakses Bascom Card</p>
                </div>
              </div>
              <div id="lifeContent4" class="absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-1000 opacity-0">
                <img id="lifeImage4" src="img/Sticker -Emergency.png" class="h-56 object-contain mx-auto mb-2 life-image-hover" />
                <div class="text-center px-2 mt-auto">
                  <h4 class="text-xs font-bold text-primary-blue mb-1">Emergency Contact</h4>
                  <p class="text-[10px] text-gray-600 leading-tight">Informasi kontak darurat dan prosedur evakuasi untuk situasi emergency</p>
                </div>
              </div>
            </div>
            <div class="flex justify-center gap-1 mt-2">
              <button class="life-dot w-2 h-2 rounded-full bg-primary-blue opacity-100 transition-opacity duration-300" data-index="0"></button>
              <button class="life-dot w-2 h-2 rounded-full bg-gray-300 opacity-50 transition-opacity duration-300" data-index="1"></button>
              <button class="life-dot w-2 h-2 rounded-full bg-gray-300 opacity-50 transition-opacity duration-300" data-index="2"></button>
              <button class="life-dot w-2 h-2 rounded-full bg-gray-300 opacity-50 transition-opacity duration-300" data-index="3"></button>
            </div>
          </div>
        </div>
        <!-- Kolom 3: Performance dan News (Kanan) -->
        <div class="lg:col-span-3 flex flex-col gap-3 h-full">
          <!-- Performance -->
          <div class="bg-white p-2 rounded-xl shadow-md border border-blue-100 flex flex-col kpi-card flex-1">
            <div class="flex items-center gap-2 mb-2 border-b border-blue-100 pb-1">
              <i class="fas fa-chart-pie text-sm text-primary-blue"></i>
              <h3 class="font-bold text-xs mb-0.5 text-primary-blue"><strong>Performance of the Month</strong></h3>
            </div>
            <div class="flex-1 flex flex-col justify-center items-center">
              <canvas id="positiveNegativeChart" width="120" height="120" style="width:120px;height:120px;" class="mx-auto"></canvas>
            </div>
          </div>
          <!-- News -->
          <div class="bg-white p-2 rounded-xl shadow-md border border-blue-100 flex flex-col kpi-card flex-1">
            <div class="flex items-center gap-2 mb-2 border-b border-blue-100 pb-1">
              <i class="fas fa-newspaper text-sm text-primary-blue"></i>
              <h3 class="font-bold text-xs mb-0.5 text-primary-blue"><strong>News</strong></h3>
            </div>
            <div class="flex-1 flex flex-col justify-center items-center relative">
              <!-- News Carousel -->
              <div id="newsCarousel" class="w-full h-full relative overflow-hidden">
                <!-- News Item 1 -->
                <div class="news-item absolute inset-0 flex flex-col justify-center items-center text-center p-2 opacity-100 transition-opacity duration-500">
                  <div class="bg-blue-50 rounded-lg p-2 mb-2 w-full">
                    <div class="text-[8px] text-gray-500 mb-1">28 Juni 2025</div>
                    <h4 class="text-xs font-bold text-primary-blue mb-1">Pencapaian Safety Award</h4>
                    <p class="text-[10px] text-gray-700 leading-tight">Tim OHSS berhasil meraih Safety Excellence Award 2025 untuk kategori Best Safety Performance</p>
                  </div>
                </div>
                
                <!-- News Item 2 -->
                <div class="news-item absolute inset-0 flex flex-col justify-center items-center text-center p-2 opacity-0 transition-opacity duration-500">
                  <div class="bg-green-50 rounded-lg p-2 mb-2 w-full">
                    <div class="text-[8px] text-gray-500 mb-1">25 Juni 2025</div>
                    <h4 class="text-xs font-bold text-primary-blue mb-1">Pelatihan APAR Sukses</h4>
                    <p class="text-[10px] text-gray-700 leading-tight">Pelatihan penggunaan APAR telah selesai dengan 100% peserta lulus ujian praktik</p>
                  </div>
                </div>
                
                <!-- News Item 3 -->
                <div class="news-item absolute inset-0 flex flex-col justify-center items-center text-center p-2 opacity-0 transition-opacity duration-500">
                  <div class="bg-orange-50 rounded-lg p-2 mb-2 w-full">
                    <div class="text-[8px] text-gray-500 mb-1">20 Juni 2025</div>
                    <h4 class="text-xs font-bold text-primary-blue mb-1">Safety Committee Meeting</h4>
                    <p class="text-[10px] text-gray-700 leading-tight">Rapat P2K3 bulanan akan dilaksanakan pada tanggal 15 Juni 2025 di ruang meeting utama</p>
                  </div>
                </div>
                
                <!-- News Item 4 -->
                <div class="news-item absolute inset-0 flex flex-col justify-center items-center text-center p-2 opacity-0 transition-opacity duration-500">
                  <div class="bg-purple-50 rounded-lg p-2 mb-2 w-full">
                    <div class="text-[8px] text-gray-500 mb-1">15 Juni 2025</div>
                    <h4 class="text-xs font-bold text-primary-blue mb-1">Update PPE Standard</h4>
                    <p class="text-[10px] text-gray-700 leading-tight">Standar PPE telah diperbarui sesuai dengan regulasi terbaru K3 Indonesia</p>
                  </div>
                </div>
              </div>
              
              <!-- Navigation Dots -->
              <div class="flex justify-center gap-1 mt-2">
                <button class="news-dot w-2 h-2 rounded-full bg-primary-blue opacity-100 transition-opacity duration-300" data-index="0"></button>
                <button class="news-dot w-2 h-2 rounded-full bg-gray-300 opacity-50 transition-opacity duration-300" data-index="1"></button>
                <button class="news-dot w-2 h-2 rounded-full bg-gray-300 opacity-50 transition-opacity duration-300" data-index="2"></button>
                <button class="news-dot w-2 h-2 rounded-full bg-gray-300 opacity-50 transition-opacity duration-300" data-index="3"></button>
              </div>
            </div>
          </div>
        </div>
      </section>
      </section>

      <!-- Carousel -->
      <section class="mb-1">
        <div class="relative w-full rounded-xl bg-white shadow-md border border-blue-100 overflow-hidden p-3">
          <div class="flex items-center justify-center mb-1">
            <h3 class="text-lg font-bold text-primary-blue tracking-wide"><strong>Activities of the Month</strong></h3>
          </div>
          <div class="w-full h-36">
            <div id="activitiesCarousel" class="flex gap-6 px-4 min-w-fit items-center h-36 snap-x snap-mandatory animate-carousel">
              <!-- Gambar asli -->
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 1" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-110 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Briefing pagi bersama tim OHSS</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 2" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Simulasi evakuasi kebakaran</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/p.jpg" alt="Activity 3" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Pengecekan alat pemadam api ringan</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/p.jpg" alt="Activity 4" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Sosialisasi Golden Rules ke pekerja</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/p.jpg" alt="Activity 5" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Pelatihan penggunaan APAR</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 6" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Rapat koordinasi keselamatan kerja</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 7" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Inspeksi area kerja oleh supervisor</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 8" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Pelatihan pertolongan pertama (P3K)</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <!-- Duplikasi gambar untuk infinite loop -->
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 1" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-110 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Briefing pagi bersama tim OHSS</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 2" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Simulasi evakuasi kebakaran</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/p.jpg" alt="Activity 3" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Pengecekan alat pemadam api ringan</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/p.jpg" alt="Activity 4" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Sosialisasi Golden Rules ke pekerja</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/p.jpg" alt="Activity 5" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Pelatihan penggunaan APAR</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 6" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Rapat koordinasi keselamatan kerja</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 7" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Inspeksi area kerja oleh supervisor</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
              <div class="relative h-32 w-[220px] sm:w-[320px] flex-shrink-0 group snap-start">
                <img src="img/a.jpg" alt="Activity 8" class="object-cover h-32 w-full rounded-2xl shadow-xl group-hover:scale-105 transition-transform duration-300" />
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-base p-2 rounded-b-2xl transition-opacity duration-300 group-hover:opacity-0">
                  <span class="block truncate">Pelatihan pertolongan pertama (P3K)</span>
                  <span class="block text-xs text-gray-200 mt-1 upload-date"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-header-footer-bg text-white text-center py-2 mt-3 text-xs">
    <p>&copy; 2025 Batamindo Investment Cakrawala. All rights reserved</p>
  </footer>

  <!-- Scripts -->
  <script>


    // Positive vs Negative Chart
    new Chart(document.getElementById('positiveNegativeChart').getContext('2d'), {
      type: 'doughnut',
      data: {
        labels: ['Positive', 'Negative'],
        datasets: [{
          label: '',
          data: [90, 10],
          backgroundColor: [
            'rgba(46,204,113,0.8)', // green
            'rgba(231,76,60,0.8)'   // red
          ],
          borderColor: [
            'rgba(39,174,96,1)',
            'rgba(192,57,43,1)'
          ],
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { 
            display: true,
            position: 'bottom',
            labels: {
              font: { size: 7 },
              usePointStyle: true
            }
          },
          tooltip: {
            enabled: true,
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.parsed + '%';
              }
            }
          },
          datalabels: {
            display: true,
            color: '#0A4D9E',
            font: {
              size: 9,
              weight: 'bold'
            },
            formatter: function(value, context) {
              if (context.dataIndex === 0) {
                return '90%';
              } else if (context.dataIndex === 1) {
                return '10%';
              }
              return '';
            }
          }
        },
        cutout: '60%'
      }
    });

    // Tanggal upload untuk gambar carousel
function setUploadDates() {
  const today = new Date();
  const options = { year: 'numeric', month: 'long', day: 'numeric' };
  const dateStr = today.toLocaleDateString('en-GB', options);
  document.querySelectorAll('#activitiesCarousel .upload-date').forEach(function(el) {
    el.textContent = 'Uploaded: ' + dateStr;
  });
}
document.addEventListener('DOMContentLoaded', setUploadDates);

    // Fullscreen toggle logic
    document.addEventListener('DOMContentLoaded', function() {
      const fullscreenBtn = document.getElementById('fullscreenBtn');
      const exitFullscreenBtn = document.getElementById('exitFullscreenBtn');
      fullscreenBtn.addEventListener('click', () => {
        const docElm = document.documentElement;
        if (docElm.requestFullscreen) {
          docElm.requestFullscreen();
        } else if (docElm.mozRequestFullScreen) {
          docElm.mozRequestFullScreen();
        } else if (docElm.webkitRequestFullscreen) {
          docElm.webkitRequestFullscreen();
        } else if (docElm.msRequestFullscreen) {
          docElm.msRequestFullscreen();
        }
      });
      exitFullscreenBtn.addEventListener('click', () => {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.mozCancelFullScreen) {
          document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
          document.msExitFullscreen();
        }
      });
      document.addEventListener('fullscreenchange', () => {
        if (document.fullscreenElement) {
          fullscreenBtn.classList.add('hidden');
          exitFullscreenBtn.classList.remove('hidden');
        } else {
          fullscreenBtn.classList.remove('hidden');
          exitFullscreenBtn.classList.add('hidden');
        }
      });
    });

    // Sidebar toggle logic
    document.addEventListener('DOMContentLoaded', function() {
      const sidebar = document.getElementById('sidebar');
      const menuBtn = document.getElementById('menuBtn');
      const sidebarBackBtn = document.getElementById('sidebarBackBtn');
      menuBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        sidebar.classList.toggle('-translate-x-full');
      });
      document.addEventListener('click', function(e) {
        if (!sidebar.classList.contains('-translate-x-full')) {
          sidebar.classList.add('-translate-x-full');
        }
      });
      sidebar.addEventListener('click', function(e) {
        e.stopPropagation();
      });
      sidebarBackBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        sidebar.classList.add('-translate-x-full');
      });
    });

    // Loader Spinner Merah
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        document.getElementById('loader-bg').style.opacity = 0;
        setTimeout(function() {
          document.getElementById('loader-bg').style.display = 'none';
          var main = document.querySelector('main.main-content');
          if (main) main.classList.add('show');
        }, 500);
      }, 900);
    });
  </script>

  <!-- Golden Rules Animation Style -->
  <style>
@keyframes blinkRedGray {
  0%, 100% { color: #f40000; }
  50% { color: #2c08d1; }
}
.animate-blink {
  animation: blinkRedGray 1s infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.fadein {
  opacity: 0;
  transition: opacity 1s;
}
.fadein.show {
  opacity: 1;
}
@keyframes carousel {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.animate-carousel {
  animation: carousel 60s linear infinite;
}
@keyframes blinkBorderRedBlue {
  0%, 100% { border-color: #f40000; }
  50% { border-color: #2c08d1; }
}
.animate-blink-border {
  animation: blinkBorderRedBlue 1s infinite;
  border-style: solid;
}
/* Tombol carousel lebih bagus */
.btn-carousel-custom {
  box-shadow: 0 2px 8px rgba(10,77,158,0.18);
  transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
}
.btn-carousel-custom:hover {
  transform: scale(1.15);
  background: #0A4D9E;
  box-shadow: 0 4px 16px rgba(10,77,158,0.28);
}
/* Percantik tombol carousel merah */
.btn-carousel-red {
  background: #e53935;
  color: #fff;
  border: 2px solid #fff;
  box-shadow: 0 4px 16px rgba(229,57,53,0.25), 0 1.5px 8px 0 rgba(0,0,0,0.10);
  transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
}
.btn-carousel-red:hover {
  transform: scale(1.18);
  background: #c62828;
  box-shadow: 0 8px 32px rgba(229,57,53,0.35);
  border-color: #fff;
}
/* Smooth slide transition */
.carousel-item {
  transition: all 0.5s cubic-bezier(0.4,0,0.2,1);
}

/* KPI Card Hover Effects */
.kpi-card {
  transition: all 0.3s ease;
}

.kpi-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

/* Smooth Tab Transitions */
#leadingTab, #laggingTab {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  transform: translateY(0);
}

#leadingTab:hover, #laggingTab:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(10, 77, 158, 0.15);
}

#leadingTab::before, #laggingTab::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(10, 77, 158, 0.1), transparent);
  transition: left 0.6s ease-in-out;
}

#leadingTab:hover::before, #laggingTab:hover::before {
  left: 100%;
}

/* Tab Indicator Animation */
#tabIndicator {
  box-shadow: 0 2px 4px rgba(10, 77, 158, 0.3);
}

/* Chart Container Smooth Transitions */
.chart-container {
  position: relative;
  overflow: hidden;
}

.chart-container canvas {
  transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.kpi-leading-item {
  transition: all 0.2s ease;
}

.kpi-leading-item:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(10,77,158,0.2);
}

.kpi-lagging-item {
  transition: all 0.2s ease;
}


.kpi-lagging-item:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(239,68,68,0.2);
}



/* QR Code link styles */
#lifeContent3 a {
  pointer-events: auto !important;
  z-index: 100 !important;
  position: relative;
  display: inline-block;
}
  </style>
  <script>
    // KPI Leading Chart
    const leadingChart = new Chart(document.getElementById('kpiLeadingChart').getContext('2d'), {
      type: 'bar',
      data: {
        labels: [
          'OHSS Meeting',
          'OHSS Daily Toolbox Talk',
          'General Security & ERT Briefing',
          'Top Management Evaluation (Visit)',
          'Action Tracking Register',
          'Annual Internal Audit',
          'Annual External Audit',
          'PPE Compliance',
          'HIRADC/JRA/JSA',
          'Permit to work (PTW)',
          'Daily OHS Report',
          'OHSS weekly Report',
          'OHSS Monthly Report',
          'OHSS Inspection',
          'OHSS Induction',
          'Safety Committee meeting (P2K3)',
          'Emergency Drill',
          'ERT Report (Fire Safety)',
          'Surveillance',
          'Contractor Safety Report'
        ],
        datasets: [{
          label: 'Leading Indicators',
          data: [15,499,204,0,12,1,2,8,100,824,356,39,13,105,13,2,58,6,9,120],
          backgroundColor: 'rgba(10,77,158,0.8)',
          borderColor: 'rgba(10,77,158,1)',
          borderWidth: 2
        }]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        maintainAspectRatio: false,
        plugins: { 
          legend: { display: false },
          tooltip: { enabled: true },
          datalabels: {
            display: true,
            color: '#0A4D9E',
            font: {
              size: 9,
              weight: 'bold'
            },
            anchor: 'end',
            align: 'right',
            offset: 4,
            formatter: function(value) {
              return value > 0 ? value : '';
            }
          }
        },
        scales: { 
          y: { beginAtZero: true, ticks: { font: { size: 8, weight: 'bold' }, autoSkip: false } },
          x: { beginAtZero: true, ticks: { font: { size: 8, weight: 'bold' } } }
        }
      }
    });

    // KPI Lagging Chart
    const laggingChart = new Chart(document.getElementById('kpiLaggingChart').getContext('2d'), {
      type: 'bar',
      data: {
        labels: [
          'Fatality Accident',
          'Lost Time Injury',
          'Restricted Workday Case',
          'Medical Treatment',
          'First aid case',
          'Traffic Accident',
          'Property Damage',
          'fire case',
          'environmental case',
          'Near Miss',
          'occupational disease',
          'security case'
        ],
        datasets: [{
          label: 'Lagging Indicators',
          data: [0,0,0,0,0,0,1,0,0,0,0,0],
          backgroundColor: 'rgba(229,57,53,0.8)',
          borderColor: 'rgba(229,57,53,1)',
          borderWidth: 2
        }]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        maintainAspectRatio: false,
        plugins: { 
          legend: { display: false },
          tooltip: { enabled: true },
          datalabels: {
            display: true,
            color: '#e53935',
            font: {
              size: 9,
              weight: 'bold'
            },
            anchor: 'end',
            align: 'right',
            offset: 4,
            formatter: function(value) {
              return value;
            }
          }
        },
        scales: { 
          y: { beginAtZero: true, ticks: { font: { size: 8, weight: 'bold' }, autoSkip: false } },
          x: { beginAtZero: true, ticks: { font: { size: 8, weight: 'bold' } } }
        }
      }
    });

    // Tab Navigation for KPI Charts with Auto Switch
    document.addEventListener('DOMContentLoaded', function() {
      const leadingTab = document.getElementById('leadingTab');
      const laggingTab = document.getElementById('laggingTab');
      const leadingChart = document.getElementById('kpiLeadingChart');
      const laggingChart = document.getElementById('kpiLaggingChart');
      
      let currentTab = 'leading'; // Track current tab
      let autoSwitchInterval;

      function showLeadingChart() {
        // Update tab styles
        leadingTab.classList.add('text-primary-blue', 'bg-blue-50');
        leadingTab.classList.remove('text-gray-500');
        laggingTab.classList.add('text-gray-500');
        laggingTab.classList.remove('text-primary-blue', 'bg-blue-50');
        
        // Move tab indicator
        const tabIndicator = document.getElementById('tabIndicator');
        tabIndicator.style.transform = 'translateX(0%)';
        
        // Smooth transition with fade effect
        leadingChart.style.opacity = '1';
        laggingChart.style.opacity = '0';
        currentTab = 'leading';
      }

      function showLaggingChart() {
        // Update tab styles
        laggingTab.classList.add('text-primary-blue', 'bg-blue-50');
        laggingTab.classList.remove('text-gray-500');
        leadingTab.classList.add('text-gray-500');
        leadingTab.classList.remove('text-primary-blue', 'bg-blue-50');
        
        // Move tab indicator
        const tabIndicator = document.getElementById('tabIndicator');
        tabIndicator.style.transform = 'translateX(100%)';
        
        // Smooth transition with fade effect
        laggingChart.style.opacity = '1';
        leadingChart.style.opacity = '0';
        currentTab = 'lagging';
      }

      function switchTab() {
        // Add a small delay for smoother transition
        setTimeout(() => {
          if (currentTab === 'leading') {
            showLaggingChart();
          } else {
            showLeadingChart();
          }
        }, 100);
      }

      function startAutoSwitch() {
        autoSwitchInterval = setInterval(switchTab, 15000); // Switch every 15 seconds
      }

      function stopAutoSwitch() {
        clearInterval(autoSwitchInterval);
      }

      function restartAutoSwitch() {
        stopAutoSwitch();
        startAutoSwitch();
      }

      // Manual click handlers
      leadingTab.addEventListener('click', function() {
        showLeadingChart();
        restartAutoSwitch(); // Restart timer when manually clicked
      });
      
      laggingTab.addEventListener('click', function() {
        showLaggingChart();
        restartAutoSwitch(); // Restart timer when manually clicked
      });

      // Initialize with Leading chart visible and start auto switch
      showLeadingChart();
      startAutoSwitch();
      
      // Add smooth tab transition styles
      leadingTab.style.transition = 'all 0.5s ease-in-out';
      laggingTab.style.transition = 'all 0.5s ease-in-out';
    });



    document.addEventListener('DOMContentLoaded', function() {
      const lifeContents = [
        document.getElementById('lifeContent1'),
        document.getElementById('lifeContent2'),
        document.getElementById('lifeContent3'),
        document.getElementById('lifeContent4')
      ];
      const lifeDots = document.querySelectorAll('.life-dot');
      let currentLifeIndex = 0;
      let lifeAutoSlideInterval;
      
      function showLifeContent(index) {
        // Show/hide content
        lifeContents.forEach((content, i) => {
          if (content) {
            content.style.opacity = (i === index) ? '1' : '0';
          }
        });
        
        // Update dots
        lifeDots.forEach((dot, i) => {
          if (i === index) {
            dot.classList.add('bg-primary-blue', 'opacity-100');
            dot.classList.remove('bg-gray-300', 'opacity-50');
          } else {
            dot.classList.add('bg-gray-300', 'opacity-50');
            dot.classList.remove('bg-primary-blue', 'opacity-100');
          }
        });
      }
      
      function nextLifeContent() {
        currentLifeIndex = (currentLifeIndex + 1) % lifeContents.length;
        showLifeContent(currentLifeIndex);
      }

      function startLifeAutoSlide() {
        lifeAutoSlideInterval = setInterval(nextLifeContent, 10000);
      }

      function stopLifeAutoSlide() {
        clearInterval(lifeAutoSlideInterval);
      }

      function restartLifeAutoSlide() {
        stopLifeAutoSlide();
        startLifeAutoSlide();
      }

      // Add click event to dots
      lifeDots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          currentLifeIndex = index;
          showLifeContent(currentLifeIndex);
          restartLifeAutoSlide();
        });
      });

      // Add hover pause functionality
      const lifeCarousel = document.getElementById('lifeCarousel');
      if (lifeCarousel) {
        lifeCarousel.addEventListener('mouseenter', stopLifeAutoSlide);
        lifeCarousel.addEventListener('mouseleave', startLifeAutoSlide);
      }
      
      startLifeAutoSlide();
      showLifeContent(0);

      // QR Code link handler
      const qrLink = document.querySelector('#lifeContent3 a');
      if (qrLink) {
        qrLink.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
          window.open('https://get-qr.com/dpD5wA', '_blank');
          return false;
        });
      }


    });

    // News Carousel
    document.addEventListener('DOMContentLoaded', function() {
      const newsItems = document.querySelectorAll('.news-item');
      const newsDots = document.querySelectorAll('.news-dot');
      let currentNewsIndex = 0;
      let newsAutoSlideInterval;

      function showNewsItem(index) {
        // Hide all news items
        newsItems.forEach((item, i) => {
          item.style.opacity = (i === index) ? '1' : '0';
        });
        
        // Update dots
        newsDots.forEach((dot, i) => {
          if (i === index) {
            dot.classList.add('bg-primary-blue', 'opacity-100');
            dot.classList.remove('bg-gray-300', 'opacity-50');
          } else {
            dot.classList.add('bg-gray-300', 'opacity-50');
            dot.classList.remove('bg-primary-blue', 'opacity-100');
          }
        });
      }

      function nextNewsItem() {
        currentNewsIndex = (currentNewsIndex + 1) % newsItems.length;
        showNewsItem(currentNewsIndex);
      }

      function startNewsAutoSlide() {
        newsAutoSlideInterval = setInterval(nextNewsItem, 4000);
      }

      function stopNewsAutoSlide() {
        clearInterval(newsAutoSlideInterval);
      }

      function restartNewsAutoSlide() {
        stopNewsAutoSlide();
        startNewsAutoSlide();
      }

      // Add click event to dots
      newsDots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          currentNewsIndex = index;
          showNewsItem(currentNewsIndex);
          restartNewsAutoSlide();
        });
      });

      // Add hover pause functionality
      const newsCarousel = document.getElementById('newsCarousel');
      if (newsCarousel) {
        newsCarousel.addEventListener('mouseenter', stopNewsAutoSlide);
        newsCarousel.addEventListener('mouseleave', startNewsAutoSlide);
      }

      // Start auto slide
      startNewsAutoSlide();
      
      // Initialize with first item
      showNewsItem(0);
    });
</script>
</body>
</html>